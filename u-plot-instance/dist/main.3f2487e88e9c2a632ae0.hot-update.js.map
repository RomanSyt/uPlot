{"version":3,"file":"main.3f2487e88e9c2a632ae0.hot-update.js","sources":["webpack:///./src/index.tsx"],"sourcesContent":["import 'piral/polyfills';\nimport * as actions from './actions';\nimport * as React from 'react';\nimport { renderInstance, PiletApi, useAction } from 'piral';\nimport { layout, errors } from './layout';\n\n// change to your feed URL here (either using feed.piral.cloud or your own service)\nconst feedUrl = 'http://localhost:9000/api/v1/pilet';\n\ndeclare module 'piral-core/lib/types/custom' {\n  interface PiralCustomActions {\n    dispatchMainVar: void;\n  }\n\n  interface PiralCustomState {\n    mainVar: number;\n  }\n}\n\nconst { root } = renderInstance({\n  layout,\n  errors,\n  actions,\n  state: {\n    mainVar: 0,\n  },\n  requestPilets() {\n    return fetch(feedUrl)\n      .then(res => res.json())\n      .then(res => res.items);\n  },\n});\n\n// setup(root);\n\n// function setup(api: PiletApi) {\n//   const mainVarHandler: (() => void) = useAction('dispatchMainVar');\n//   console.log('mainVar');\n\n//   React.useEffect((): (() => void) => {\n//     const handler = el => mainVarHandler();\n\n//     api.on('mainVar', handler);\n\n//     setTimeout(() => {\n//       alert('mainVar');\n//     }, 1000);\n\n//     return () => api.off('mainVar', handler);\n//   }, []);\n// }\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAXA;AAAA;AAgBA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;A","sourceRoot":""}